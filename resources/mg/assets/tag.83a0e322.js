var b=Object.defineProperty;var _=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var f=(e,a,t)=>a in e?b(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,h=(e,a)=>{for(var t in a||(a={}))k.call(a,t)&&f(e,t,a[t]);if(_)for(var t of _(a))C.call(a,t)&&f(e,t,a[t]);return e};import{h as v,k as o,a as B,S as N,t as F,x as l,y as i,D as w,G as $,B as u,A as n,Q as D,P as I,z as d,a1 as A,R as p,O as E}from"./element-plus.935a2e22.js";import{_ as z,k as K,n as j,l as x}from"./index.dcbee9bf.js";const M=v({name:"TagPage",methods:{async handleClose(e){let a=e._id.$oid;const r=(await K(a)).data;r.code==0?(o.success("\u5220\u9664\u6210\u529F"),this.tags.splice(this.tags.indexOf(e),1)):o.error(r.msg)},handleInputConfirm(){let e=this.inputValue;e&&(this.newTagName=e,this.addTag()),this.inputVisible=!1,this.inputValue=""},showInput(){this.inputVisible=!0,this.$nextTick(e=>{this.$refs.saveTagInput.$refs.input.focus()})},async addTag(){if(this.newTagName==null||this.newTagName==""){o.error("\u8BF7\u8F93\u5165tag\u540D\u79F0");return}const a=(await j(this.newTagName)).data;a.code==0?(o.success("\u521B\u5EFA\u6210\u529F"),this.tags.push(a.data)):o.error(a.msg),this.newTagName=""}},data(){return{tags:[],inputVisible:!1,inputValue:"",newTagName:""}},setup:()=>{let e=B({tags:[],inputVisible:!1,inputValue:"",newTagName:""});return N(async()=>{const t=(await x()).data;t.code==0?e.tags=t.data:o.error("\u52A0\u8F7D\u5931\u8D25")}),h({},F(e))}}),O={style:{background:"white",padding:"15px"}},P={style:{width:"300px",height:"50px"}},R=p("\u6DFB\u52A0"),S=p("+ \u6DFB\u52A0tag");function U(e,a,t,r,G,L){const m=l("el-input"),c=l("el-form-item"),g=l("el-button"),V=l("el-form"),T=l("el-tag"),y=l("el-row");return i(),w("div",O,[$("div",P,[u(V,{inline:!0,class:"demo-form-inline"},{default:n(()=>[u(c,null,{default:n(()=>[u(m,{modelValue:e.newTagName,"onUpdate:modelValue":a[0]||(a[0]=s=>e.newTagName=s),placeholder:"\u6807\u7B7E\u540D\u79F0"},null,8,["modelValue"])]),_:1}),u(c,null,{default:n(()=>[u(g,{type:"primary",onClick:e.addTag},{default:n(()=>[R]),_:1},8,["onClick"])]),_:1})]),_:1})]),u(y,null,{default:n(()=>[(i(!0),w(D,null,I(e.tags,s=>(i(),d(T,{key:s,closable:"","disable-transitions":!1,onClose:Q=>e.handleClose(s),class:"tagsitem"},{default:n(()=>[p(E(s.name),1)]),_:2},1032,["onClose"]))),128)),e.inputVisible?(i(),d(m,{key:0,class:"input-new-tag",modelValue:e.inputValue,"onUpdate:modelValue":a[1]||(a[1]=s=>e.inputValue=s),ref:"saveTagInput",size:"small",onKeyup:A(e.handleInputConfirm,["enter"]),onBlur:e.handleInputConfirm},null,8,["modelValue","onKeyup","onBlur"])):(i(),d(g,{key:1,class:"button-new-tag",size:"small",onClick:e.showInput},{default:n(()=>[S]),_:1},8,["onClick"]))]),_:1})])}var W=z(M,[["render",U],["__scopeId","data-v-8d1069b4"]]);export{W as default};
